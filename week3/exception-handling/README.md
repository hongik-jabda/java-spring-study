## 예외 처리는 왜 쓸까?🤔

예외 처리는 프로그램의 오류를 관리하고 안정성을 높이는데 필수적

예외 처리가 없다면? → 프로그램이 비정상적으로 종료될 수 있다!

예를 들어 …

```java
1. 10000원을 챙긴다.

2. 마트에 간ㄴ더.
3. 5000원어치 간식을 산다.

4. 다이소에 간다.
5. 3000원짜리 공책을 산다.

6. 올리브여엥 간다.
7. 7000원짜리 선크림을 산다.

8. 집에 돌아온다.
```

여기서 오류는?

먼저 2번과 6번에 문법 오류 → 이런 오류는 컴퓨터가 알아서 바로 걸러냄. 빨간줄 띄움

특히 자바같은 컴파일 언어 (실행되기 전 기계에게 친숙한 언어로 번역, 컴파일이 되는 언어)들에서 문법 오류는 컴파일 과정에서부터 차단하기 때문에 실행 과정에서 이런 오류가 나는 일은 없다. 이런걸 컴파일 오류라고 한다.

그렇다면 컴퓨터가 실행되기 전 걸러내지 못하는 런타임 오류를 찾아보자.

총 15000원어치를 구매하려고 하는데, 1000원 밖에 챙기지 못했다!

이것은 프로그래머의 논리적 결함으로 인해 발생하는 오류이다. → 논리 오류

이런 오류는 전적으로 코드에 달려있기 때문에 프로그래밍 하는 과정에서 방지할 수 있다. 프로그래머가 실수만 안하면 되니까!

그런데 만약 올리브영에 썬크림 재고가 없다면? 프로그래머가 코드로 제어할 수 없는 돌발 상황인 것이다.

하나하나 If 문으로 대비하기에는, 어떤 오류가 발생할 지 모두 예측해야 하므로 힘들다.

컴퓨터가 오류에 부딪히면 그냥 해당 프로세스가 죽어버리기 때문에, 이런 돌발 상황에 대처하기 위해 예외처리. Exception Handling 이란 장치를 마련해 두었다.

## 예외 처리 기본 문법

### try-catch

- 기본적인 예외 처리 구문
- 예외가 발생할 가능성이 있는 코드를 `try` 블록 안에 작성하고, 예외가 발생하면 `catch` 블록에서 처리

### finally

- 예외 발생 여부와 관계없이 항상 실행
- 자원을 해제하거나 정리 작업을 수행할 때 사용

```java
try {
    // 예외가 발생할 수 있는 코드
} catch (Exception e) {
    // 예외 처리 코드
} finally {
    // 항상 실행되는 코드
}
```

```java
goTo(oliveyoung);

try{
	oliveyoung.buy("sunscreen");
} catch (Exception e) {
	// 예외 처리 코드
}

comeBackHome();
```

올리브영 가서 선크림 사는데, 없으면 집에 돌아와라

```java
goTo(oliveyoung);

try{
	oliveyoung.buy("sunscreen");
} catch (NoMoneyException e) {
	// 돈이 부족할 경우 동작
} catch (OliveyoungCloseException e){
	// 올리브영이 문을 닫았을 경우 동작
} finally {
	// 선크림을 사든 못 사든 동작
}

comBackHome();
```

어떤 오류가 나느냐에 따라 구분을 줄 수도 있다.

사용자 정의 예외 클래스를 만들어 사용할 수도 있다.

```java
goTo(oliveyoung);

try{
	oliveyoung.buy("sunscreen"); 
} catch (Exception e) {
	// 예외 처리 코드
} finally {
	// 여기서 하나
}

// 여기서 하나 마찬가지 아님?
```

그럼 finally 구문은 왜 쓰는걸까?

예외가 발생하든 안하든 finally 구문을 실행하는 거라면, 그냥 try-catch 다음에 써도 똑같은거 아닌가?

→ try나 catch 구문에서 return 해버리는 경우가 있다.

그러면 그냥 해당 함수가 종료되버리기 때문에 finally 구문을 사용한다.

```java
database.openConnection();
try {
	result = database.searchDate("aaa");
	return result;
} catch (Exception e) {
	// 데이터 검색 오류
} finally {
	database.close(); // DB 접속 종료
}
```

보통 위와 같이 자원을 해제하거나 정리 작업을 수행할 때 사용된다.

이렇게 예외 처리를 통해 프로그래머의 부담과 실수를 줄일 수 있다.

하지만!! 예외처리가 항상 좋은 것은 아니다.

오류처리 꼼꼼히 분석해서 소프트웨어를 더 안전하게 까는게 아니라 그냥 예외처리로 대~충 묻어버리면 큰 문제가 발생될 수 있다.

어떠한 상황에서 어떠한 방식으로 예외처리를 하는 것이 적절하고 고민해보고 관련 자료들도 찾아보면서 코드를 짜자.

참고 : https://youtu.be/LQ182IQZfW8?si=yPN-htGezw4PhxEg